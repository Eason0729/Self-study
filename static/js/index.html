<!DOCTYPE html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>single page web application</title>
  <link href="index.css" rel="stylesheet" type="text/css" />
  <link
    rel="stylesheet"
    href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/styles/default.min.css"
  />
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/highlight.min.js"></script>
</head>

<body
  background="https://www.sucaimohe.com/uploads/allimg/200614/52-200614105J4529.jpg"
>
  <script src="/api.js"></script>

  <center>
    <h1>歡迎來到留言板</h1>
  </center>
  <form>
    <h3>帳號 : <input type="text" name="account" id="account" /></h3>
    <h3>密碼 : <input type="text" name="password" id="password" /></h3>
    <button
      onclick="scope.login();"
      style="outline: none;"
      class="login-button"
    >
      登入
    </button>
  </form>
  <script>
    hljs.highlightAll();
    var scope = {
      login: function () {
        var accountName = document.getElementById("account").value;
        var password = document.getElementById("password").value;
        HC.auth
          .Login(accountName, password)
          .then(function () {
            window.location.href = "message.html";
          })
          .catch(function () {
            document.getElementById("account").value = "";
            document.getElementById("password").value = "";
            alert("帳號或密碼錯誤");
          });
      }
    };
  </script>
</body>
